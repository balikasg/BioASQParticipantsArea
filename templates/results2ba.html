{% extends "base.html" %}
{% load i18n %}
{% block content %}
<body id="results1ba">
<h1> Task 2b: Test Results of Phase A</h1>
<!-- <em>* The scores  presented below are indicative. The final scores based on the assessed data will be announced soon * <br /> </em> -->
<em> * The "-" replace the scores of systems that  didn't submit the corresponding annotations. *   </em><br /> 

The test results are presented in seperate tables for each type of annotation. They are sorted based on the scores of MAP. The "System Description" of each system is used.<br /> 
The evaluation measures that are used are presented <a href="http://bioasq.lip6.fr/Tasks/b/eval_meas/" style="text-decoration:none; color:blue">here </a>.


{% for test in tests %}
    <a onclick ="javascript:ShowHide({{ test.test_id }})" href="javascript:;" style="text-decoration:none">
    <h2>Test batch {{test.test_id|add:"-3"}}</h2> </a>
    <div class="mid1" id="{{ test.test_id }}" style="DISPLAY: none">      
	<h3>Documents</h3>
        <table class="tablesorter1b">
                <thead>
                        <tr>
                                <th>System Name</th>
                                <th>Mean precision</th>
                                <th>Mean Recall</th> 
                                <th>Mean F-Measure</th> 
                                <th>MAP</th> 
                                <th>GMAP</th> 
                        </tr>
                </thead>
                <tbody>
{% for eval in evaluation %}
                                {% if eval.testset == test %}
                                        {% if not eval.mp_art == 0  and eval.mp_art > 0.001 %}
                                                <tr>
                                                        <td>{{eval.user.system_description}}</td>
                                                        <td>{{eval.mp_art|floatformat:4}}</td>
                                                        <td>{{eval.mr_art|floatformat:4}}</td>
                                                        <td>{{eval.f_art|floatformat:4}}</td>
                                                        <td>{{eval.MAP_art|floatformat:4}}</td>
                                                        <td>{{eval.GMAP_art|floatformat:4}}</td>
                                                </tr>
                                        {% else %}
                                                <tr>
                                                        <td>{{eval.user.system_description}}</td>
                                                        <td>-</td>
                                                        <td>-</td>
                                                        <td>-</td>
                                                        <td>-</td>
                                                        <td>-</td>
                                                </tr>
                                        {% endif %}
                                {% endif %}
                        {% endfor %}
                </tbody>
        </table>



<h3>Snippets</h3>
        <table class="tablesorter1b">
                <thead>         
                        <tr>    
                                <th>System Name</th>
                                <th>Mean Precision</th>
                                <th>Mean Recall</th>
                                <th>Mean F-Measure</th>
                                <th>MAP</th>  
                                <th>GMAP</th>
                        </tr>
                </thead>        
                <tbody>
{% for eval in evaluation %}
                               {% if eval.testset == test %} 
                                        {% if not eval.MAP_snip == 0 and eval.mp_snip > 0.001 %}
                                                <tr>
                                                        <td>{{eval.user.system_description}}</td>
							<td>{{eval.mp_snip|floatformat:4}}</td>
                                                        <td>{{eval.mr_snip|floatformat:4}}</td>
                                                        <td>{{eval.f_snip|floatformat:4}}</td>
                                                        <td>{{eval.MAP_snip|floatformat:4}}</td>
                                                        <td>{{eval.GMAP_snip|floatformat:4}}</td>	
                                                </tr>
                                        {% else %}
                                                <tr>
                                                        <td>{{eval.user.system_description}}</td>
                                                        <td>-</td>
                                                        <td>-</td>
                                                        <td>-</td>
                                                        <td>-</td>
                                                        <td>-</td>
                                                </tr>
                                        {% endif %}
                                {% endif %}
                        {% endfor %}
                </tbody>
        </table>


<h3>Concepts</h3>
        <table class="tablesorter1b">
                <thead>         
                        <tr>    
                                <th>System Name</th>
                                <th>Mean Rrecision</th>
                                <th>Mean Recall</th>
                                <th>Mean F-Measure</th>
                                <th>MAP</th>  
                                <th>GMAP</th>
                        </tr>
                </thead>        
                <tbody>
{% for eval in evaluation %}
                                {% if eval.testset == test %}
                                        {% if not eval.mp_con  == 0 and eval.mp_con > 0.001 %}
                                                <tr>
                                                        <td>{{eval.user.system_description}}</td>
							<td>{{eval.mp_con|floatformat:4}}</td>
                                                        <td>{{eval.mr_con|floatformat:4}}</td>
                                                        <td>{{eval.f_con|floatformat:4}}</td>
                                                        <td>{{eval.MAP_con|floatformat:4}}</td>
                                                        <td>{{eval.GMAP_con|floatformat:4}}</td>
                                                </tr>
                                        {% else %}
                                                <tr>
                                                        <td>{{eval.user.system_description}}</td>
                                                        <td>-</td>
                                                        <td>-</td>
                                                        <td>-</td>
                                                        <td>-</td>
                                                        <td>-</td>
                                                </tr>
                                        {% endif %}
                                {% endif %}
                        {% endfor %}
                </tbody>
        </table>



<h3>RDF Triples</h3>
        <table class="tablesorter1b">
                <thead>         
                        <tr>    
                                <th>System Name</th>
                                <th>Mean Precision</th>
                                <th>Mean Recall</th>
                                <th>Mean F-Measure</th>
                                <th>MAP</th>  
                                <th>GMAP</th>
                        </tr>
                </thead>        
                <tbody>
{% for eval in evaluation %}
                                {% if eval.testset == test %}
                                        {% if not eval.mp_trip == 0  %}
                                                <tr>
                                                        <td>{{eval.user.system_description}}</td>
							<td>{{eval.mp_trip|floatformat:4}}</td>
                                                        <td>{{eval.mr_trip|floatformat:4}}</td>
                                                        <td>{{eval.f_trip|floatformat:4}}</td>
                                                        <td>{{eval.MAP_trip|floatformat:4}}</td>
                                                        <td>{{eval.GMAP_trip|floatformat:4}}</td>
                                                </tr>
                                        {% else %}
                                                <tr>
                                                        <td>{{eval.user.system_description}}</td>
                                                        <td>-</td>
                                                        <td>-</td>
                                                        <td>-</td>
                                                        <td>-</td>
                                                        <td>-</td>
                                                </tr>
                                        {% endif %}
                                {% endif %}
                        {% endfor %}
                </tbody>
        </table>
</div>
{% endfor %}
</body>

{% endblock  %}
